PM2 â€“ Chuleta prÃ¡ctica
ğŸ”¹ InstalaciÃ³n
sudo npm install -g pm2

ğŸ”¹ Arrancar procesos
Arrancar el bot principal
pm2 start dist/server.js --name geodaily -- --standalone

Arrancar sin --standalone (modo server)
pm2 start dist/server.js --name geodaily

Arrancar el bot de link
pm2 start dist/linkBotMain.js --name geodaily-link

Cronificados
============
pm2 start npm \
  --name geodaily \
  --cwd /home/pablo/daily_challengue/daily-geoguessr-bot \
  --cron-restart="10 3 * * *" \
  -- run start -- --standalone

pm2 start npm \
  --name geodaily-link \
  --cwd /home/pablo/daily_challengue/daily-geoguessr-bot \
  --cron-restart="15 3 * * *" \
  -- run linkbot

ğŸ”¹ Ver estado
pm2 list

ğŸ”¹ Logs
Ver logs en tiempo real
pm2 logs

Ver logs de un proceso concreto
pm2 logs geodaily

Ver solo las Ãºltimas lÃ­neas
pm2 logs geodaily --lines 50
pm2 logs geodaily --lines 200

ğŸ”¹ Reiniciar procesos
Reiniciar un proceso
pm2 restart geodaily

Reiniciar forzando recarga de .env
pm2 restart geodaily --update-env

Reiniciar todos
pm2 restart all

ğŸ”¹ Parar procesos (sin borrar)
Parar todos
pm2 stop all

Parar uno concreto
pm2 stop geodaily

ğŸ”¹ Borrar procesos (âš ï¸ cuidado)
pm2 delete geodaily
pm2 delete all

ğŸ”¹ Guardar y restaurar procesos
Guardar estado actual
pm2 save

Restaurar procesos guardados
pm2 resurrect

ğŸ”¹ Arranque automÃ¡tico al reiniciar el servidor
Generar configuraciÃ³n de startup
pm2 startup

Ejecutar el comando que PM2 te muestra (muy importante)
sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u TU_USUARIO --hp /home/TU_USUARIO

ğŸ”¹ Apagar PM2 completamente
pm2 kill

ğŸ”¹ DiagnÃ³stico
Ver detalles de un proceso (restarts, memoria, etc.)
pm2 describe geodaily

Ver si un puerto estÃ¡ escuchando
ss -lntp | grep 25000